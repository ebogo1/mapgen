<html>
        <head>
          <meta charset=utf-8>
          <title>My first three.js app</title>
          <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100% }
          </style>
        </head>
        <body>        
          <script src="js/build/three.js"></script>
          <script src="js/controls/OrbitControls.js"></script>
          <script src="js/src/WorldGrid.js"></script>
          <script>
            var WIDTH = window.innerWidth,
                HEIGHT = window.innerHeight;

            // Create a renderer and add it to the DOM.            
            renderer = new THREE.WebGLRenderer({antialias:true});
            renderer.setSize(WIDTH, HEIGHT);
            document.body.appendChild(renderer.domElement);

            var scene = new THREE.Scene();
            //var camera = new THREE.OrthographicCamera()
            var camera = new THREE.PerspectiveCamera(104, WIDTH/HEIGHT);
            scene.add(camera);
            camera.position.x = 3; 
            camera.position.z = 3;
            camera.rotation.y = -Math.PI / 2;            

            var controls = new THREE.OrbitControls( camera );

            // Create an event listener that resizes the renderer with the browser window.
            window.addEventListener('resize', function() {
              var WIDTH = window.innerWidth,
                  HEIGHT = window.innerHeight;
              renderer.setSize(WIDTH, HEIGHT);
              camera.aspect = WIDTH / HEIGHT;
              camera.updateProjectionMatrix();
            });            

            // Set the background color of the scene.
            var clearColor = new THREE.Color(0x00ffff);
            renderer.setClearColor(clearColor, 1);
            
            var world = new WorldGrid();
            var geometry = new THREE.BoxGeometry(world.getColor());
            var material = new THREE.MeshLambertMaterial( { color: 0x00ff00 } );
            var cube = new THREE.Mesh( geometry, material );            
            scene.add(cube);

            // Create a light, set its position, and add it to the scene.
            var light = new THREE.PointLight(0xffffff);
            light.position.set(-100,200,100);
            scene.add(light);
            
            renderer.render(scene,camera);
            controls.update();

            var animate = function(){
              //cube.rotation.x += 0.01;
              renderer.render(scene,camera);
              requestAnimationFrame(animate);

              // required if controls.enableDamping or controls.autoRotate are set to true
	            controls.update();
            }

            animate();
          </script>
        </body>
</html>